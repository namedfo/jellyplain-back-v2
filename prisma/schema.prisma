// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"

  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider             = "postgresql"
  url                  = "postgresql://gen_user:tq65teazd9@176.57.220.112:5432/default_db"
  referentialIntegrity = "prisma"
}

model Product {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  category Categories
  type     Type
  brand    Brand

  productChilds ProductChild[]
  reviews       Review[]

  title String
  price Int
}

model ProductChild {
  id Int @id @default(autoincrement())

  image Image[]
  size  Size[]

  color Colors

  product   Product? @relation(fields: [productId], references: [id])
  productId Int?
}

model Size {
  id Int @id @default(autoincrement())

  size           Sizes
  
  productChild   ProductChild? @relation(fields: [productChildId], references: [id])
  productChildId Int?
}

model Image {
  id Int @id @default(autoincrement())

  image String @db.Char(2000)

  productChild   ProductChild? @relation(fields: [productChildId], references: [id])
  productChildId Int?
}

model Review {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  rating  Int
  comment String @db.Char(10000)

  product   Product? @relation(fields: [productId], references: [id])
  productId Int?
}

enum Type {
  original
  replica
}

enum Categories {
  sneakers
  hoodies
  jersey
  shorts
  jackets
}

enum Brand {
  nike
  adidas
  underarmour
  thenorthface
}

enum Colors {
  black
  blue
  yellow
}

enum Sizes {
  eu38
  eu39
  eu40
  eu41
  eu42
  eu43
  eu44
  eu45
  eu46
  eu47
  eu48
  eu49
  eu50
}
